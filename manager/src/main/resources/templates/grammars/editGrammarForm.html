<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<!--/*

Input object : grammarDto, List<String> examples
Output object :  grammarDto, List<String> examples(updated)
*/-->


<head th:replace="~{/fragments/header :: fragment-header ('Adding Grammar')}">
</head>
<body class="bg-light container">
<div class="nav">
    <div th:replace="~{/fragments/nav :: nav ('edit')}"></div>
</div>
<div class="row">
    <div class="col-md-12 ">
        <p class="h4" th:text="#{nav.edit}"></p>
        <form th:action="@{/grammars/edit/{param} (param=${grammarDto.id})}" th:object="${grammarDto}"
              method="post">
            <div class="info">
                <input th:field="*{id}" hidden>
                <label th:text="#{grammar.word}"></label>
                <input th:field="*{word}">
                <label th:text="#{grammar.meaning}"></label>
                <input th:field="*{meaning}">
                <label th:text="#{grammar.categoryURI}"></label>
                <input th:field="*{categoryURI}">
            </div>

            <table id="table" class="table table-striped table-responsive-md table-hover">
                <thead>
                <tr class="d-flex text-center">
                    <th class="col-1">#</th>
                    <th class="col-9">Example</th>
                    <th class="col-2">Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr class="d-flex" th:each="example : ${examples}">
                    <td class="col-1 text-center"><span th:text="${exampleStat.count}"></span></td>
                    <td class="col-9">

                    <textarea type="text" class="form-control"
                           th:text="${example}" th:id="${exampleStat.index}"
                            disabled="" />

                    </td>
                    <td class="col-2">
                        <a th:id="'edit' + ${exampleStat.index}"
                           th:onclick="|
                    toggleDisabled(${exampleStat.index});
                    addClassName('edit'+${exampleStat.index}, 'invisible');
                    removeClassName('save'+${exampleStat.index}, 'invisible');|">
                            <img class="btn hover" th:src="@{/svg/pencil.svg}" alt="edit">
                        </a>
                        <a class="invisible" th:id="'save' + ${exampleStat.index}"
                           th:onclick="|
                       toggleDisabled(${exampleStat.index});
                        removeClassName('edit'+${exampleStat.index}, 'invisible');
                        addClassName('save'+${exampleStat.index}, 'invisible');|">
                            <img class="btn hover" th:src="@{/svg/folder-check.svg}" alt="edit">
                        </a>
                        <a th:onclick="|
                        deleteExampleConfirm(${exampleStat.index})
                    |">
                            <img class="btn hover" th:src="@{/svg/trash.svg}" alt="delete">
                        </a>
                    </td>
                </tr>
                </tbody>

            </table>
            <div class="text-end">
                <button class="btn btn-success" type="submit" name="addRow" >+</button>
                <button class="btn btn-danger" type="submit" name="removeRow" >-</button>
                <button class="btn btn-primary" type="submit" th:text="#{submit}"></button>
                <button class="btn btn-outline-secondary" onclick="window.location.reload()" type="reset"
                        th:text="#{cancel}"></button>
            </div>

        </form>

    </div>
</div>

<div class="footer">

</div>
</body>
</html>